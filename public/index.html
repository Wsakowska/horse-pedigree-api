<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Baza Rodowodowa Koni</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="assets/favicon.ico">
</head>
<body>
  <div class="container">
    <aside class="sidebar">
      <h1>Baza Rodowodowa Koni</h1>
      <nav>
        <ul>
          <li><button onclick="showSection('dashboard')">Panel Główny</button></li>
          <li><button onclick="showSection('add-country')">Dodaj Kraj</button></li>
          <li><button onclick="showSection('add-breeder')">Dodaj Hodowcę</button></li>
          <li><button onclick="showSection('add-horse')">Dodaj Konia</button></li>
          <li><button onclick="showSection('add-color')">Dodaj Maść</button></li>
          <li><button onclick="showSection('add-breed')">Dodaj Rasę</button></li>
        </ul>
      </nav>
    </aside>

    <main>
      <section id="dashboard" class="active">
        <h2>Panel Główny</h2>
        <div class="dashboard-controls">
          <input type="text" id="search-horses" placeholder="Wyszukaj konia po nazwie...">
          <select id="sort-horses">
            <option value="name-asc">Nazwa (A-Z)</option>
            <option value="name-desc">Nazwa (Z-A)</option>
            <option value="birth_date-asc">Data urodzenia (rosnąco)</option>
            <option value="birth_date-desc">Data urodzenia (malejąco)</option>
          </select>
        </div>
        <div id="horse-list" class="horse-grid"></div>
      </section>

      <section id="add-country" class="hidden">
        <h2>Dodaj Kraj</h2>
        <form id="country-form">
          <div class="form-group">
            <label>Kod ISO (2 litery): <input type="text" name="code" maxlength="2" pattern="[A-Z]{2}" required></label>
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label>Nazwa: <input type="text" name="name" maxlength="100" required></label>
            <span class="error-message"></span>
          </div>
          <div class="form-buttons">
            <button type="submit">Dodaj</button>
            <button type="button" onclick="resetForm('country-form')">Anuluj</button>
          </div>
        </form>
      </section>

      <section id="add-breeder" class="hidden">
        <h2>Dodaj Hodowcę</h2>
        <form id="breeder-form">
          <div class="form-group">
            <label>Nazwa: <input type="text" name="name" maxlength="100" required></label>
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label>Kraj: <select name="country_code" id="breeder-country-select" required></select></label>
            <span class="error-message"></span>
          </div>
          <div class="form-buttons">
            <button type="submit">Dodaj</button>
            <button type="button" onclick="resetForm('breeder-form')">Anuluj</button>
          </div>
        </form>
      </section>

      <section id="add-horse" class="hidden">
        <h2>Dodaj Konia</h2>
        <form id="horse-form">
          <div class="form-group">
            <label>Imię: <input type="text" name="name" maxlength="100" required></label>
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label>Rasa: <select name="breed_id" id="horse-breed-select" required></select></label>
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label>Data urodzenia: <input type="date" name="birth_date"></label>
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label>Płeć: 
              <select name="gender" required>
                <option value="klacz">Klacz</option>
                <option value="ogier">Ogier</option>
                <option value="wałach">Wałach</option>
              </select>
            </label>
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label>Ojciec: 
              <input type="text" id="sire-search" placeholder="Wyszukaj ojca..." oninput="filterHorses('sire')">
              <select name="sire_id" id="horse-sire-select"><option value="">Brak</option></select>
            </label>
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label>Matka: 
              <input type="text" id="dam-search" placeholder="Wyszukaj matkę..." oninput="filterHorses('dam')">
              <select name="dam_id" id="horse-dam-select"><option value="">Brak</option></select>
            </label>
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label>Maść: <select name="color_id" id="horse-color-select" required></select></label>
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label>Hodowca: <select name="breeder_id" id="horse-breeder-select" required></select></label>
            <span class="error-message"></span>
          </div>
          <div class="form-buttons">
            <button type="submit">Dodaj</button>
            <button type="button" onclick="resetForm('horse-form')">Anuluj</button>
          </div>
        </form>
      </section>

      <section id="add-color" class="hidden">
        <h2>Dodaj Maść</h2>
        <form id="color-form">
          <div class="form-group">
            <label>Nazwa: <input type="text" name="name" maxlength="50" required></label>
            <span class="error-message"></span>
          </div>
          <div class="form-buttons">
            <button type="submit">Dodaj</button>
            <button type="button" onclick="resetForm('color-form')">Anuluj</button>
          </div>
        </form>
      </section>

      <section id="add-breed" class="hidden">
        <h2>Dodaj Rasę</h2>
        <form id="breed-form">
          <div class="form-group">
            <label>Nazwa: 
              <select name="name" required>
                <option value="oo">oo</option>
                <option value="xx">xx</option>
                <option value="xo">xo</option>
                <option value="xxoo">xxoo</option>
              </select>
            </label>
            <span class="error-message"></span>
          </div>
          <div class="form-buttons">
            <button type="submit">Dodaj</button>
            <button type="button" onclick="resetForm('breed-form')">Anuluj</button>
          </div>
        </form>
      </section>

      <section id="pedigree-view" class="hidden">
        <h2>Rodowód Konia</h2>
        <div class="form-group">
          <label>Głębokość: <input type="number" id="pedigree-depth" min="1" max="5" value="2"></label>
          <button onclick="fetchPedigreeHtml()">Pokaż Drzewo</button>
        </div>
        <div id="pedigree-tree" class="tree-container"></div>
      </section>

      <section id="offspring-view" class="hidden">
        <h2>Potomstwo Konia</h2>
        <div class="form-group">
          <label>Płeć: 
            <select id="offspring-gender" onchange="fetchOffspring()">
              <option value="">Wszystkie</option>
              <option value="klacz">Klacz</option>
              <option value="ogier">Ogier</option>
              <option value="wałach">Wałach</option>
            </select>
          </label>
          <label>Hodowca: 
            <select id="offspring-breeder" onchange="fetchOffspring()">
              <option value="">Wszyscy</option>
            </select>
          </label>
        </div>
        <div id="offspring-list" class="horse-grid"></div>
      </section>
    </main>
  </div>

  <script src="scripts.js"></script>
</body>
</html>