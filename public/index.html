<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Baza Rodowodowa Koni</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="assets/favicon.ico">
</head>
<body>
  <div class="container">
    <aside class="sidebar">
      <h1>üêé Baza Rodowodowa Koni</h1>
      <nav>
        <ul>
          <li><button onclick="showSection('dashboard')" type="button">üìä Panel G≈Ç√≥wny</button></li>
          <li><button onclick="showSection('add-country')" type="button">üåç Dodaj Kraj</button></li>
          <li><button onclick="showSection('add-breeder')" type="button">üè† Dodaj Hodowcƒô</button></li>
          <li><button onclick="showSection('add-horse')" type="button">üê¥ Dodaj Konia</button></li>
          <li><button onclick="showSection('add-color')" type="button">üé® Dodaj Ma≈õƒá</button></li>
          <li><button onclick="showSection('add-breed')" type="button">üß¨ Dodaj Rasƒô</button></li>
        </ul>
      </nav>
    </aside>

    <main>
      <section id="dashboard" class="active">
        <h2> Panel G≈Ç√≥wny</h2>
        <div class="dashboard-controls">
          <input type="text" id="search-horses" placeholder="üîç Wyszukaj konia po nazwie...">
          <select id="sort-horses">
            <option value="name-asc">Nazwa (A-Z)</option>
            <option value="name-desc">Nazwa (Z-A)</option>
            <option value="birth_date-asc">Data urodzenia (rosnƒÖco)</option>
            <option value="birth_date-desc">Data urodzenia (malejƒÖco)</option>
          </select>
        </div>
        <div id="horse-list" class="horse-grid">
          <div class="loading">≈Åadowanie koni</div>
        </div>
      </section>

      <section id="add-country" class="hidden">
        <h2> Dodaj Kraj</h2>
        <form id="country-form">
          <div class="form-group">
            <label for="country-code">Kod ISO (2 litery):</label>
            <input type="text" id="country-code" name="code" maxlength="2" pattern="[A-Z]{2}" required placeholder="np. PL, DE, US">
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label for="country-name">Nazwa:</label>
            <input type="text" id="country-name" name="name" maxlength="100" required placeholder="np. Polska">
            <span class="error-message"></span>
          </div>
          <div class="form-buttons">
            <button type="submit">‚úÖ Dodaj</button>
            <button type="button" onclick="resetForm('country-form')">‚ùå Anuluj</button>
          </div>
        </form>
      </section>

      <section id="add-breeder" class="hidden">
        <h2> Dodaj Hodowcƒô</h2>
        <form id="breeder-form">
          <div class="form-group">
            <label for="breeder-name">Nazwa:</label>
            <input type="text" id="breeder-name" name="name" maxlength="100" required placeholder="np. Hodowla Krakowska">
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label for="breeder-country">Kraj:</label>
            <select id="breeder-country-select" name="country_code" required>
              <option value="">Wybierz kraj</option>
            </select>
            <span class="error-message"></span>
          </div>
          <div class="form-buttons">
            <button type="submit">‚úÖ Dodaj</button>
            <button type="button" onclick="resetForm('breeder-form')">‚ùå Anuluj</button>
          </div>
        </form>
      </section>

      <section id="add-horse" class="hidden">
        <h2> Dodaj Konia</h2>
        <form id="horse-form">
          <div class="form-group">
            <label for="horse-name">Imiƒô:</label>
            <input type="text" id="horse-name" name="name" maxlength="100" required placeholder="np. Bucefa≈Ç">
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label for="horse-breed">Rasa:</label>
            <select id="horse-breed-select" name="breed_id" required>
              <option value="">Wybierz rasƒô</option>
            </select>
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label for="horse-birth-date">Data urodzenia:</label>
            <input type="date" id="horse-birth-date" name="birth_date">
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label for="horse-gender">P≈Çeƒá:</label>
            <select id="horse-gender" name="gender" required>
              <option value="">Wybierz p≈Çeƒá</option>
              <option value="klacz">Klacz</option>
              <option value="ogier">Ogier</option>
              <option value="wa≈Çach">Wa≈Çach</option>
            </select>
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label for="horse-sire">Ojciec:</label>
            <div class="parent-search">
              <input type="text" id="sire-search" placeholder="üîç Wyszukaj ojca..." oninput="filterHorses('sire')">
            </div>
            <select id="horse-sire-select" name="sire_id">
              <option value="">Brak</option>
            </select>
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label for="horse-dam">Matka:</label>
            <div class="parent-search">
              <input type="text" id="dam-search" placeholder="üîç Wyszukaj matkƒô..." oninput="filterHorses('dam')">
            </div>
            <select id="horse-dam-select" name="dam_id">
              <option value="">Brak</option>
            </select>
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label for="horse-color">Ma≈õƒá:</label>
            <select id="horse-color-select" name="color_id" required>
              <option value="">Wybierz ma≈õƒá</option>
            </select>
            <span class="error-message"></span>
          </div>
          <div class="form-group">
            <label for="horse-breeder">Hodowca:</label>
            <select id="horse-breeder-select" name="breeder_id" required>
              <option value="">Wybierz hodowcƒô</option>
            </select>
            <span class="error-message"></span>
          </div>
          <div class="form-buttons">
            <button type="submit">‚úÖ Dodaj</button>
            <button type="button" onclick="resetForm('horse-form')">‚ùå Anuluj</button>
          </div>
        </form>
      </section>

      <section id="add-color" class="hidden">
        <h2> Dodaj Ma≈õƒá</h2>
        <form id="color-form">
          <div class="form-group">
            <label for="color-name">Nazwa:</label>
            <input type="text" id="color-name" name="name" maxlength="50" required placeholder="np. Gniada, Kara, Siwa">
            <span class="error-message"></span>
          </div>
          <div class="form-buttons">
            <button type="submit">‚úÖ Dodaj</button>
            <button type="button" onclick="resetForm('color-form')">‚ùå Anuluj</button>
          </div>
        </form>
      </section>

      <section id="add-breed" class="hidden">
        <h2>üß¨ Dodaj Rasƒô</h2>
        <form id="breed-form">
          <div class="form-group">
            <label for="breed-name">Nazwa:</label>
            <select id="breed-name" name="name" required>
              <option value="">Wybierz rasƒô</option>
              <option value="oo">oo</option>
              <option value="xx">xx</option>
              <option value="xo">xo</option>
              <option value="xxoo">xxoo</option>
            </select>
            <span class="error-message"></span>
          </div>
          <div class="form-buttons">
            <button type="submit">‚úÖ Dodaj</button>
            <button type="button" onclick="resetForm('breed-form')">‚ùå Anuluj</button>
          </div>
        </form>
      </section>

      <section id="pedigree-view" class="hidden">
        <h2> Rodow√≥d Konia</h2>
        <div class="pedigree-controls">
          <label for="pedigree-depth">G≈Çƒôboko≈õƒá:</label>
          <input type="number" id="pedigree-depth" min="1" max="5" value="2">
          <button onclick="fetchPedigreeHtml()" type="button">üå≤ Poka≈º Drzewo</button>
        </div>
        <div id="pedigree-tree" class="tree-container">
          <div class="empty-state">Wybierz konia i ustaw g≈Çƒôboko≈õƒá, aby zobaczyƒá rodow√≥d</div>
        </div>
      </section>

      <section id="offspring-view" class="hidden">
        <h2> Potomstwo Konia</h2>
        <div class="offspring-controls">
          <label for="offspring-gender">P≈Çeƒá:</label>
          <select id="offspring-gender" onchange="fetchOffspring()">
            <option value="">Wszystkie</option>
            <option value="klacz">Klacz</option>
            <option value="ogier">Ogier</option>
            <option value="wa≈Çach">Wa≈Çach</option>
          </select>
          <label for="offspring-breeder">Hodowca:</label>
          <select id="offspring-breeder" onchange="fetchOffspring()">
            <option value="">Wszyscy</option>
          </select>
        </div>
        <div id="offspring-list" class="horse-grid">
          <div class="empty-state">Wybierz konia, aby zobaczyƒá jego potomstwo</div>
        </div>
      </section>
    </main>
  </div>

  <script src="scripts.js"></script>
</body>
</html>